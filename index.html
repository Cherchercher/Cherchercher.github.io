<!doctype html>
<html>
<head>
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
    <script src="script.js"></script>
    <meta name="viewport" content="initial-scale=1, user-scalable=no">
</head>
<script>
        var student_array=[];
        var grade_array=[];
        function add_student()
        {
            var student={ name:"",
                course:"",
                grade: ""
            };
            //Get
            var name=$('#studentName').val();
            var grade=$('#studentGrade').val();
            var course=$('#course').val();
            student.name=name;
            student.grade=grade;
            student.course=course;
            student_array.push(student);
            grade_array.push(student.grade);
            console.log(student_array);
           
        }
  

        function list_students() {
                   var list = $("#tbody");
                   list.html('');
            for (var j = 0; j < student_array.length; j++) {
                  
                  var thisname = $("<div>", {
                            id: j,
                            'text': student_array[j].name
                        });
                thisname.addClass('col-md-4');
                thisname.attr('id');
                list.append(thisname);



                  var thiscourse = $("<div>", {
                            id: j,
                            'text': student_array[j].course
                        });
                thiscourse.addClass('col-md-4');
                thiscourse.attr('id');
                list.append(thiscourse);

                  var thisgrade = $("<div>", {
                            id: j,
                            'text': student_array[j].grade
                        });
                thisgrade.addClass('col-md-4');
                thisgrade.attr('id');
                list.append(thisgrade);
                        var  sum = 0;
       $.each(grade_array,function(){sum+=parseFloat(this) || 0;});
        console.log(sum);
        var avg= $(".avgGrade");
            avg.html('');
             var thisavg= $("<div>",{
                'text': sum/student_array.length
            });
            console.log(thisavg);
            avg.append(thisavg);
            }
        }
       

        function cancel_student(){
             var list = $("#tbody");
            list.empty();

        }
              
$(document).ready(function()
    {    
        $("#add").click(function () {
                add_student();
                list_students();
                console.log("add button clicked");
            });

        $("#cancel").click(function() {
                cancel_student();
                console.log("cancel button clicked");
        });
    });
 
</script>
<body>
<div class="">
    <div class="">
        <!-- only show this element when the isnt on mobile -->
        <h1>Student Grade Table
            <small>Grade Average : <span class="avgGrade"></span></small>
        </h1>
        <!-- only show this element when the user gets to a mobile version -->
        <h3>Student Grade Table
            <small>Grade Average : <span class="avgGrade"></span></small>
        </h3>
    </div>
    <div class="student-add-form">
        <h4>Add Student</h4>
        <div>
            <span>
                <span class="glyphicon"></span>
            </span>
            <input type="text" class="" name="studentName" id="studentName" placeholder="Student Name">
        </div>
        <div class="">
            <span class="">
                <span class="glyphicon"></span>
            </span>
            <input type="text" class="" name="course" id="course"
                   placeholder="Student Course">
        </div>
        <div class="">
            <span class="">
                <span class="glyphicon"></span>
            </span>
            <input type="text" class="" name="studentGrade" id="studentGrade"
                   placeholder="Student Grade">
        </div>
        <button type="button" class="" onclick="" id="add">Add</button>
        <button type="button" class="" onclick="" id="cancel">Cancel</button>
    </div>
    <div class="student-list-container">
        <table class="student-list">
            <thead>
            <tr>
                <th>Student Name</th>
                <th>Student Course</th>
                <th>Student Grade</th>
                <th>Operations</th>
            </tr>
            </thead>
            <tbody id="tbody">
            </tbody>
        </table>
    </div>
</div>
</body>
</html>
