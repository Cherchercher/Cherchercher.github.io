<!doctype html>
<html>
<head>
    <link rel="stylesheet" href="/bootstrap/bootstrap.min.css">
    <script src="/jquery/jquery.min.js"></script>
    <script src="/bootstrap/bootstrap.min.js"></script>
    <script src="script.js"></script>
    <meta name="viewport" content="initial-scale=1, user-scalable=no">
    <style>


    </style>
</head>
<script>
        var student_array=[];
        var grade_array=[];
        function add_student()
        {
            var student={ name:"",
                course:"",
                grade: ""
            };
            //Get
            var name=$('#studentName').val();
            var grade=$('#studentGrade').val();
            var course=$('#course').val();
            student.name=name;
            student.grade=grade;
            student.course=course;
            student_array.push(student);
            grade_array.push(student.grade);
            console.log(student_array);
           
        }
  

        function list_students() {
                   var list = $("#tbody");
                   list.html('');
            for (var j = 0; j < student_array.length; j++) {
                  
                  var thisname = $("<div>", {
                            id: j,
                            'text': student_array[j].name
                        });
                thisname.addClass('col-md-4');
                thisname.attr('id');
                list.append(thisname);



                  var thiscourse = $("<div>", {
                            id: j,
                            'text': student_array[j].course
                        });
                thiscourse.addClass('col-md-4');
                thiscourse.attr('id');
                list.append(thiscourse);

                  var thisgrade = $("<div>", {
                            id: j,
                            'text': student_array[j].grade
                        });
                thisgrade.addClass('col-md-4');
                thisgrade.attr('id');
                list.append(thisgrade);
                        var  sum = 0;
       $.each(grade_array,function(){sum+=parseFloat(this) || 0;});
        console.log(sum);
        var avg= $(".avgGrade");
            avg.html('');
             var thisavg= $("<div>",{
                'text': sum/student_array.length
            });
            console.log(thisavg);
            avg.append(thisavg);
            }
        }
       

        function cancel_student(){
             var list = $("#tbody");
            list.empty();

        }
              
$(document).ready(function()
    {    
        $("#add").click(function () {
                add_student();
                list_students();
                console.log("add button clicked");
            });

        $("#cancel").click(function() {
                cancel_student();
                console.log("cancel button clicked");
        });
    });
 
</script>
<body>
<div class="container">
    <div class="row headerRow">
        <div class="col-xs-0 col-md-12 onMobile"> <!-- only show this element when the is on mobile -->
            <div class="col-xs-0 col-md-12 onMobile onMobileGradeAverageHeader">
                <h3><b>Student Grade Table</b></h3>
            </div>
            <div class="col-xs-0 col-md-12 pull-right onMobile onmobileGradeAverageNumber"><h3><small>
                Grade Average : <span class="label label-default avgGrade">0</span></small></h3>

            </div>
        </div>


            <div class="col-xs-0 col-md-12 nonMobile"> <!-- only show this element when the isnt on mobile -->
                <div class="col-xs-0 col-md-12 nonMobile nonMobileGradeAverageHeader">
                    <h1>Student Grade Table</h1>
                </div>
                <div class="col-xs-0 col-md-12 nonMobile nonMobileGradeAverageNumber"><h2><small>
                   Grade Average : <span class="label label-default avgGrade">0</span></small></h2>

                </div>
            </div>



    </div>
    <div class="student-add-form">
        <h3>Add Student</h3>

        <div class="input-group">
            <span class="input-group-addon">
                <i class="fa fa-search glyphicon glyphicon-user"></i>
            </span>
            <input type="text" class="form-control" name="studentName" id="studentName" placeholder="Student Name"/>
        </div>

        <label class="control-label" for=""></label> <!-- kinda hacky, time constraint-->
        <div class="input-group">
            <span class="input-group-addon">
                <i class="fa fa-search glyphicon glyphicon-list-alt"></i>
            </span>
            <input type="text" class="form-control" name="course" id="course" placeholder="Student Course"/>
        </div>


        <!--<div class="">-->
            <!--<span class="">-->
                <!--<span class="glyphicon"></span>-->
            <!--</span>-->
            <!--<input type="text" class="form-control" name="course" id="course"-->
                   <!--placeholder="Student Course">-->
        <!--</div>-->
        <label class="control-label" for=""></label><!-- kinda hacky, time constraint-->
        <div class="input-group">

            <span class="input-group-addon">
                <i class="fa fa-search glyphicon glyphicon-user"></i>
            </span>
            <input type="text" class="form-control" name="studentGrade" id="studentGrade"
                   placeholder="Student Grade">
        </div>

        <button type="button" class="btn btn-success" onclick="">Add</button>
        <button type="button" class="btn btn-default" onclick="">Cancel</button>
    </div>
    <div class="student-list-container">
        <table class="student-list">
            <thead>
            <tr>
                <th>Student Name</th>
                <th>Student Course</th>
                <th>Student Grade</th>
                <th>Operations</th>
            </tr>
            </thead>
            <tbody id="tbody">
            </tbody>
        </table>
    </div>
</div>
</body>
</html>

<style>
    @media screen and (min-width: 360px)
    {
        .onMobile
        {
            display: none;
        }
    }
    @media screen and (max-width: 360px)
    {
        .nonMobile
        {
            display: none;
        }
    }
</style>

